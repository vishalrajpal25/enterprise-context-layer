# Enterprise Context Platform - Environment Configuration
# Copy to .env and set values for local; use vault/secret manager in prod.

# Environment: local | staging | prod
ENV=local

# --- Asset Registry (PostgreSQL) ---
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=ecp
POSTGRES_PASSWORD=changeme
POSTGRES_DB=ecp_registry
# Full URL (overrides host/port/user/pass/db if set)
# DATABASE_URL=postgresql+asyncpg://ecp:changeme@localhost:5432/ecp_registry

# --- Knowledge Graph (Neo4j) ---
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=changeme

# --- Vector Store (pgvector in Postgres for local; use Pinecone URL for prod) ---
# Local: same Postgres, separate DB or schema
VECTOR_STORE_TYPE=pgvector
PGVECTOR_CONNECTION_STRING=postgresql://ecp:changeme@localhost:5432/ecp_vectors
# Prod (optional): Pinecone
# VECTOR_STORE_TYPE=pinecone
# PINECONE_API_KEY=
# PINECONE_INDEX=ecp
# PINECONE_ENVIRONMENT=us-east-1

# --- Semantic Layer (Cube) ---
CUBE_API_URL=http://localhost:4000/cubejs-api/v1
CUBE_API_TOKEN=

# --- Policy Engine (OPA) ---
OPA_URL=http://localhost:8181/v1
OPA_DATA_PATH=data_access
OPA_POLICY_PATH=ecp/data_access

# --- Resolution Orchestrator ---
RESOLUTION_CACHE_TTL_SECONDS=3600
RESOLUTION_LOG_LEVEL=INFO

# --- API / MCP ---
API_HOST=0.0.0.0
API_PORT=8000
MCP_PORT=3000
# Auth (optional for local; required for prod)
# API_KEY=optional-for-local
# OIDC_ISSUER=
# OIDC_AUDIENCE=

# --- Observability ---
LOG_LEVEL=INFO
OTEL_EXPORTER_OTLP_ENDPOINT=
TRACE_SAMPLE_RATE=0.1
